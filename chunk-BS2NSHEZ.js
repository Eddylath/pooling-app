import{a as Y,b as $,c as z,d as J}from"./chunk-H2LTBQJG.js";import{a as k,b as d,c as V,d as M,f as L,g as O,i as B,j as D,k as w,l as G,m as P,n as q,p as j,q as H}from"./chunk-EJ6KLYKD.js";import{Ea as l,Ha as y,Ia as F,Ja as S,Ka as n,La as i,Ma as m,Na as g,Oa as h,Pa as u,Qa as N,Ra as o,Sa as I,W as f,X as b,Xa as p,Ya as E,jb as T,kb as A,lb as R,na as a,ra as C,va as _,za as x}from"./chunk-6CPTGQ4B.js";var s=r=>({error:r});function Q(r,t){if(r&1&&(n(0,"option",8),o(1),i()),r&2){let e=t.$implicit;l("value",e),a(),I(e)}}function U(r,t){if(r&1){let e=g();n(0,"form",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label"),o(5,"Employee ID"),i(),m(6,"input",6),i(),n(7,"div",5)(8,"label"),o(9,"Vehicle type"),i(),n(10,"select",7),F(11,Q,2,2,"option",8,y),i()(),n(13,"div",5)(14,"label"),o(15,"Vehicle number"),i(),m(16,"input",9),i(),n(17,"div",5)(18,"label"),o(19,"Seats available"),i(),m(20,"input",10),i()(),n(21,"div",4)(22,"div",5)(23,"label"),o(24,"Ride time"),i(),m(25,"input",11),i(),n(26,"div",5)(27,"label"),o(28,"Pickup location"),i(),m(29,"input",12),i(),n(30,"div",5)(31,"label"),o(32,"Drop location"),i(),m(33,"input",13),i()()(),n(34,"div",14)(35,"button",15),h("click",function(){f(e);let c=u();return b(c.onSubmit())}),o(36,"Add ride"),i()()()}if(r&2){let e=u();l("formGroup",e.addRideForm),a(6),l("ngClass",p(8,s,e.isFieldInvalid("empId"))),a(5),S(e.vehicleTypes),a(5),l("ngClass",p(10,s,e.isFieldInvalid("vehicleNumber"))),a(4),l("ngClass",p(12,s,e.isFieldInvalid("seatsAvailable"))),a(5),l("ngClass",p(14,s,e.isFieldInvalid("rideTime"))),a(4),l("ngClass",p(16,s,e.isFieldInvalid("dropLocation"))),a(4),l("ngClass",p(18,s,e.isFieldInvalid("dropLocation"))),a(2),l("disabled",e.isSubmitDisabled())}}function W(r,t){if(r&1){let e=g();n(0,"div",4)(1,"h1"),o(2,"Your ride has been saved successfully"),i(),n(3,"button",16),h("click",function(){f(e);let c=u();return b(c.addMore())}),o(4,"Add more"),i()()}}var K=class r{constructor(t,e){this.fb=t;this.service=e;this.initiateForm()}addRideForm;formOpen=!0;vehicleTypes=["Car","Bike","Scooter","Bus","Truck"];initiateForm(){this.addRideForm=this.fb.group({empId:["",[d.required]],vehicleType:[this.vehicleTypes[0]],vehicleNumber:["",d.required],seatsAvailable:[1,[d.required,d.min(1)]],rideTime:["",d.required],pickupLocation:["",d.required],dropLocation:["",d.required]},{validator:[Y("empId"),$("vehicleNumber"),z("rideTime"),J("pickupLocation","dropLocation")]})}isSubmitDisabled(){return this.addRideForm.invalid}isFieldInvalid(t){return this.addRideForm.get(t)?.touched&&this.addRideForm.get(t)?.errors}onSubmit(){this.formOpen=!1;let t=this.addRideForm.value;this.service.availableRides.push({id:this.service.availableRides.length+1,empId:t.empId,vehicleType:t.vehicleType,vehicleNumber:t.vehicleNumber,seatsAvailable:t.seatsAvailable,rideTime:t.rideTime,pickupLocation:t.pickupLocation,dropLocation:t.dropLocation,alreadyBookedBy:[]}),this.addRideForm.reset()}addMore(){this.formOpen=!0,this.initiateForm()}static \u0275fac=function(e){return new(e||r)(C(q),C(H))};static \u0275cmp=_({type:r,selectors:[["app-add-ride"]],decls:3,vars:2,consts:[["saveMessage",""],[3,"formGroup",4,"ngIf","ngIfElse"],[3,"formGroup"],[1,"flex"],[1,"flex","f-column","f-x-center"],[1,"flex","f-gap-1","f-x-baseline"],["type","text","formControlName","empId",1,"input",3,"ngClass"],["formControlName","vehicleType"],[3,"value"],["type","text","formControlName","vehicleNumber","placeholder","MH-01-BH-0001",1,"input",3,"ngClass"],["type","number","formControlName","seatsAvailable",1,"input",3,"ngClass"],["type","time","formControlName","rideTime",1,"input",3,"ngClass"],["type","text","formControlName","pickupLocation","placeholder","Office/Bellandur etc",1,"input",3,"ngClass"],["type","text","formControlName","dropLocation","placeholder","Office/Bellandur etc",1,"input",3,"ngClass"],[1,"flex","button-wrapper"],[1,"primary-button",3,"click","disabled"],[1,"primary-button",3,"click"]],template:function(e,v){if(e&1&&x(0,U,37,20,"form",1)(1,W,5,0,"ng-template",null,0,E),e&2){let c=N(2);l("ngIf",v.formOpen)("ngIfElse",c)}},dependencies:[j,L,G,P,k,O,w,V,M,B,D,R,T,A],styles:["label[_ngcontent-%COMP%]{flex:1;text-align:end}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.button-wrapper[_ngcontent-%COMP%]{justify-content:center;margin:2rem}"]})};export{K as AddRideComponent};
